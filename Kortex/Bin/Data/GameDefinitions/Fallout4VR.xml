<?xml version="1.0" encoding="utf-8"?>
<Instance GameID="Fallout4VR" SortOrder="23">
	<Name Short="Fallout 4 - VR">Fallout 4 - VR Edition</Name>

	<Variables>
		<!--Required-->
		<Entry ID="ActualGameDir" Source="Registry" Type="FSPath" SaveAsOverride="1">
			<Branch>32</Branch>
			<Root>HKEY_LOCAL_MACHINE</Root>
			<Path>SOFTWARE\Bethesda Softworks\Fallout 4 VR</Path>
			<Name>Installed Path</Name>
			<Type>REG_SZ</Type>
		</Entry>
		<Entry ID="ActualConfigDir">$SHF(DOCUMENTS)\My Games\Fallout4VR</Entry>
		<Entry ID="ActualSavesDir">$(ActualConfigDir)\Saves</Entry>
		<!--<Entry ID="ScriptExtenderID">F4SEVR</Entry>-->
		<Entry ID="xEditID">fo4vr</Entry>
	</Variables>

	<Network>
		<NexusID>Fallout4</NexusID>
		<SteamID>611660</SteamID>
	</Network>

	<Virtualization>
		<MirroredLocations>
			<Entry>
				<Sources>
					<Entry>$(SavesDir)</Entry>
					<Entry>$(ConfigDir)</Entry>
				</Sources>
				<Target>$(ActualConfigDir)</Target>
			</Entry>
			<Entry>
				<Sources>
					<Entry>$(ProfileDir)\Plugins</Entry>
				</Sources>
				<Target>$SHF(APPLICATIONDATA_LOCAL)\Fallout4VR</Target>
			</Entry>
		</MirroredLocations>
	</Virtualization>

	<ProgramManager>
		<Programs>
			<Entry>
				<Name>$(GameShortName)</Name>
				<Executable>Fallout4VR.exe</Executable>
			</Entry>
			<!--<Entry>
				<Name>$(GameShortName) ($(ScriptExtenderID))</Name>
				<Executable>F4SEVR_Loader.exe</Executable>
			</Entry>-->
			<Entry>
				<Name>$(GameShortName) Launcher</Name>
				<Executable>Fallout4VRLauncher.exe</Executable>
			</Entry>
			<Entry>
				<Name>Creation Kit</Name>
				<Executable>CreationKit.exe</Executable>
			</Entry>
			<Entry>
				<Name>ENB Injector</Name>
				<Executable>ENBInjector.exe</Executable>
			</Entry>
		</Programs>
	</ProgramManager>

	<GameConfig EnableENB="1">
		<Entry Format="INI" ID="0" TypeDetectionMethod="HungarianNotation">$(ConfigDir)\Fallout4.ini</Entry>
		<Entry Format="INI" ID="1" TypeDetectionMethod="HungarianNotation">$(ConfigDir)\Fallout4Prefs.ini</Entry>
		<Entry Format="INI" ID="2" TypeDetectionMethod="HungarianNotation">$(ConfigDir)\Fallout4Custom.ini</Entry>
		<Entry Format="INI" ID="1000" TypeDetectionMethod="HungarianNotation">CreationKit.ini</Entry>
		<Entry Format="INI" ID="1001" TypeDetectionMethod="HungarianNotation">CreationKitPrefs.ini</Entry>
	</GameConfig>

	<PluginManager Enabled="1" InterfaceName="Bethesda2" PluginFileFormat="BethesdaSkyrim">
		<Limit Value="254"/>

		<ActiveList>$(ProfileDir)\Plugins\Plugins.txt</ActiveList>
		<OrderList>$(ProfileDir)\Plugins\LoadOrder.txt</OrderList>

		<ChangeFileModificationDate>0</ChangeFileModificationDate>
		<SortByFileModificationDate>0</SortByFileModificationDate>

		<ActiveListHeader><![CDATA[# Last modified by $(AppName) $(AppVersion) at $(CurrentDateTime).]]></ActiveListHeader>
		<OrderListHeader><![CDATA[# This file is used by $(GameShortName) to keep track of your downloaded content.
# Please do not modify this file.
# Last modified by $(AppName) $(AppVersion) at $(CurrentDateTime).]]>
		</OrderListHeader>

		<SortingTools>
			<Entry ID="LOOT" Name="Load Order Optimization Tool (LOOT)">
				<Command><![CDATA[--game=Fallout4VR]]></Command>
			</Entry>
		</SortingTools>

		<LibLoot>
			<Branch>v0.14</Branch>
			<Repository>https://github.com/loot/fallout4.git</Repository>
			<FolderName>Fallout4VR</FolderName>
			<LocalGamePath>$(ModListRoot)\LocalPlugins</LocalGamePath>
		</LibLoot>

		<StandardContent MainID="Fallout4.esm">
			<Entry ID="Fallout4.esm" Name="$(GameShortName)" Logo="Fallout4.png"/>
			<Entry ID="Fallout4_VR.esm" Name="$(GameShortName)" Logo="Fallout4.png"/>
			<Entry ID="DLCWorkshop01.esm" Name="$(GameShortName): Wasteland Workshop" Logo="WastelandWorkshop01.png"/>
			<Entry ID="DLCWorkshop02.esm" Name="$(GameShortName): Wasteland Workshop" Logo="WastelandWorkshop02.png"/>
			<Entry ID="DLCWorkshop03.esm" Name="$(GameShortName): Wasteland Workshop" Logo="WastelandWorkshop03.png"/>
			<Entry ID="DLCRobot.esm" Name="$(GameShortName): Automatron" Logo="Automatron.png"/>
			<Entry ID="DLCCoast.esm" Name="$(GameShortName): Far Harbor" Logo="FarHarbor.png"/>
			<Entry ID="DLCNukaWorld.esm" Name="$(GameShortName): Nuka World" Logo="NukaWorld.png"/>
			<Entry ID="DLCUltraHighResolution.esm" Name="$(GameShortName): High Resolution Texture Pack" Logo="Fallout4.png"/>
		</StandardContent>
	
</PluginManager>

	<ScreenshotsGallery Enabled="1" RequiresVFS="0">
		<Locations>
			<Entry>$(ActualGameDir)</Entry>
			<Entry>$(ActualGameDir)\Screenshots</Entry>
			<Entry>$(ConfigDir)</Entry>
			<Entry>$(ConfigDir)\Screenshots</Entry>
			<Entry>$(OverwritesDir)</Entry>
			<Entry>$(OverwritesDir)\Screenshots</Entry>
		</Locations>
	</ScreenshotsGallery>

	<SaveManager Enabled="1" RequiresVFS="0" SaveFileFormat="BethesdaFallout4">
		<Location>$(SavesDir)\Saves</Location>
		<FileFilters>
			<Entry Label="$T(SaveManager.Filter.Saves) (*.fos)">*.fos</Entry>
			<Entry Label="$T(SaveManager.Filter.Backups) (*.bak)">*.bak</Entry>
			<Entry Label="$T(SaveManager.Filter.CoSaves) (*.f4se)">*.f4se</Entry>
		</FileFilters>

		<PrimaryExtension>fos</PrimaryExtension>
		<SecondaryExtension>f4se</SecondaryExtension>
	</SaveManager>

	<Packages>
		<PackageManager>
			<Requirements>
				<!-- General -->
				<Entry ID="Fallout4VR" Category="$T(PackageManager.ReqCategory.General)">
					<Name>$(GameName)</Name>
					<Object Function="FileExist">Fallout4.exe</Object>
					<Version Function="GTEQ">1.10.106.0</Version>
				</Entry>
				<Entry ID="$(ScriptExtenderID)" Category="$T(PackageManager.ReqCategory.General)">
					<Name>$(GameShortName) Script Extender</Name>
					<Object Function="FileExist">F4SE_Loader.exe</Object>
					<Version Function="GTEQ">0.0.6.11</Version>
				</Entry>
				<Entry ID="xSE PluginPreloader" Category="$T(PackageManager.ReqCategory.General)">
					<Object Function="FileExist">IpHlpAPI.dll</Object>
					<Version Function="GTEQ">0.1.2</Version>
				</Entry>

				<!-- DLC -->
				<Entry ID="DLC-FarHarbor" Category="$T(PackageManager.ReqCategory.DLC)">
					<Name>DLC: Far Harbor</Name>
					<Object Function="PluginActive">DLCCoast.esm</Object>
				</Entry>
				<Entry ID="DLC-Automatron" Category="$T(PackageManager.ReqCategory.DLC)">
					<Name>DLC: Automatron</Name>
					<Object Function="PluginActive">DLCRobot.esm</Object>
				</Entry>
				<Entry ID="DLC-NukaWorld" Category="$T(PackageManager.ReqCategory.DLC)">
					<Name>DLC: Nuka World</Name>
					<Object Function="PluginActive">DLCNukaWorld.esm</Object>
				</Entry>
				<Entry ID="DLC-WastelandWorkshop" Category="$T(PackageManager.ReqCategory.DLC)">
					<Name>DLC: Wasteland Workshop</Name>
					<Dependencies>
						<Entry>DLC-WastelandWorkshop1</Entry>
						<Entry>DLC-WastelandWorkshop2</Entry>
						<Entry>DLC-WastelandWorkshop3</Entry>
					</Dependencies>
				</Entry>
				<Entry ID="DLC-WastelandWorkshop1" Category="$T(PackageManager.ReqCategory.DLC)">
					<Name>DLC: Wasteland Workshop 1</Name>
					<Object Function="PluginActive">DLCWorkshop01.esm</Object>
				</Entry>
				<Entry ID="DLC: DLC-WastelandWorkshop2" Category="$T(PackageManager.ReqCategory.DLC)">
					<Name>Wasteland Workshop 2</Name>
					<Object Function="PluginActive">DLCWorkshop02.esm</Object>
				</Entry>
				<Entry ID="DLC: DLC-WastelandWorkshop3" Category="$T(PackageManager.ReqCategory.DLC)">
					<Name>Wasteland Workshop 3</Name>
					<Object Function="PluginActive">DLCWorkshop03.esm</Object>
				</Entry>
				<Entry ID="DLC-HRTP" Category="$T(PackageManager.ReqCategory.DLC)">
					<Name>DLC: High Resolution Texture Pack</Name>
					<Object Function="PluginActive">DLCUltraHighResolution.esm</Object>
				</Entry>

				<!-- Frameworks -->
				<Entry ID="LooksMenu" Category="$T(PackageManager.ReqCategory.Frameworks)">
					<Name>LooksMenu</Name>
					<Object Function="PluginActive">LooksMenu.esp</Object>
					<Version Function="GTEQ">1.6</Version>
					<Dependencies>
						<Entry>$(ScriptExtenderID)</Entry>
					</Dependencies>
				</Entry>
				<Entry ID="AWKCR" Category="$T(PackageManager.ReqCategory.Frameworks)">
					<Name>Armor and Weapon Keywords Community Resource</Name>
					<Object Function="PluginActive">ArmorKeywords.esm</Object>
					<Version Function="GTEQ">4.0</Version>
				</Entry>
				<Entry ID="Armorsmith Extended" Category="$T(PackageManager.ReqCategory.Frameworks)">
					<Object Function="PluginActive">Armorsmith Extended.esp</Object>
					<Version Function="GTEQ">3.0</Version>
					<Dependencies>
						<Entry>AWKCR</Entry>
					</Dependencies>
				</Entry>

				<!-- Body replacers -->
				<Entry ID="CBBE" Category="$T(PackageManager.ReqCategory.BodyReplacers)">
					<Name>Caliente's Beautiful Bodies Enhancer</Name>
					<Object Function="ModActive"/>
				</Entry>

				<!-- Pacthes -->
				<Entry ID="UFO4P" Category="$T(PackageManager.ReqCategory.Patches)">
					<Name>Unofficial Fallout 4 Patch</Name>
					<Object Function="PluginActive">Unofficial Fallout 4 Patch.esp</Object>
					<Version Function="GTEQ">2.0</Version>
					<Dependencies>
						<Entry>DLC-FarHarbor</Entry>
						<Entry>DLC-NukaWorld</Entry>
						<Entry>DLC-Automatron</Entry>
						<Entry>DLC-WastelandWorkshop1</Entry>
						<Entry>DLC-WastelandWorkshop2</Entry>
						<Entry>DLC-WastelandWorkshop3</Entry>
					</Dependencies>
				</Entry>
			</Requirements>
		</PackageManager>
	</Packages>
</Instance>
