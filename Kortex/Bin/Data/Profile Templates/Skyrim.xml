<?xml version="1.0" encoding="utf-8"?>
<Profile ID="Skyrim" SortOrder="13">
	<Name Short="Skyrim">The Elder Scrolls V: Skyrim</Name>
	
	<Variables>
		<!--Required-->
		<Entry ID="GameRoot" EntryType="Registry" SubType="FolderPath" UseOverride="1">
			<Node>32</Node>
			<Root>HKEY_LOCAL_MACHINE</Root>
			<Path>SOFTWARE\Bethesda Softworks\$(ID)</Path>
			<ValueName>Installed Path</ValueName>
			<ValueType>REG_SZ</ValueType>
		</Entry>
		<Entry ID="ConfigRoot">$SH(SHF_DOCUMENTS)\My Games\$(ID)</Entry>
		<Entry ID="GameExecutable">$(GameRoot)\TESV.exe</Entry>
		<Entry ID="VirtualGameExecutable">$(VirtualGameRoot)\TESV.exe</Entry>
		<Entry ID="NexusID">$(ID)</Entry>

		<!--Names-->
		<Entry ID="EditorName">Creation Kit</Entry>
		<Entry ID="LauncherName">$(NameShort) Launcher</Entry>
		<Entry ID="ScriptExtenderName">$(NameShort) Script Extender</Entry>
		<Entry ID="ScriptExtenderNameShort">SKSE</Entry>
		
		<!-- INI -->
		<Entry ID="SkyrimINI">$(VirtualConfigRoot)\$(ID).ini</Entry>
		<Entry ID="SkyrimPrefsINI">$(VirtualConfigRoot)\$(ID)Prefs.ini</Entry>
		<Entry ID="SkyrimEditorINI">$(VirtualGameRoot)\$(ID)Editor.ini</Entry>
		<Entry ID="SkyrimEditorPrefsINI">$(VirtualGameRoot)\$(ID)EditorPrefs.ini</Entry>
		
		<!--Misc-->
		<Entry ID="GameLauncherPath">$(VirtualGameRoot)\$(ID)Launcher.exe</Entry>
		<Entry ID="GameEditorPath">$(VirtualGameRoot)\CreationKit.exe</Entry>
		<Entry ID="ScriptExtenderPath">$(VirtualGameRoot)\$(ScriptExtenderNameShort)_Loader.exe</Entry>
		<Entry ID="ENBInjectorPath">$(VirtualGameRoot)\ENB_Injector.exe</Entry>
	</Variables>

	<Network>
		<NexusID>Skyrim</NexusID>
	</Network>

	<LocationsConfig>
		<Entry Label="$T(OpenLocation.Saves)">$(VirtualConfigRoot)\Saves</Entry>
	</LocationsConfig>

	<Virtualization>
		<MirroredLocations>
			<Entry>
				<Source>$(VirtualConfigRoot)</Source>
				<Target>$(ConfigRoot)</Target>
			</Entry>
			<Entry>
				<Source>$(CurrentProfileRoot)\PluginsOrder</Source>
				<Target>$SH(SHF_APPLICATIONDATA_LOCAL)\$(ID)</Target>
			</Entry>
		</MirroredLocations>
	</Virtualization>
	
	<RunConfig Enabled="1">
		<Main>
			<Entry RequiresVFS="1">
				<Name>$(NameShort)</Name>
				<Icon>TESV.exe</Icon>
				<Executable>$(VirtualGameExecutable)</Executable>
				<Arguments></Arguments>
			</Entry>
			<Entry RequiresVFS="1">
				<Name>$(NameShort) ($(ScriptExtenderNameShort))</Name>
				<Icon>$(ScriptExtenderNameShort)_Loader.exe</Icon>
				<Executable>$(ScriptExtenderPath)</Executable>
				<Arguments></Arguments>
			</Entry>
			<Entry RequiresVFS="1">
				<Name>$(LauncherName)</Name>
				<Icon>$(ID)Launcher.exe</Icon>
				<Executable>$(GameLauncherPath)</Executable>
				<Arguments></Arguments>
			</Entry>
			<Entry RequiresVFS="1">
				<Name>$(EditorName)</Name>
				<Icon>CreationKit.exe</Icon>
				<Executable>$(GameEditorPath)</Executable>
				<Arguments></Arguments>
			</Entry>
		</Main>
		<PreMain>
			<Entry>
				<Name>ENB Injector</Name>
				<Icon>ENB_Injector.exe</Icon>
				<Executable>$(ENBInjectorPath)</Executable>
				<Command></Command>
			</Entry>
		</PreMain>
	</RunConfig>

	<PackageManager>
		
	</PackageManager>

	<GameConfig Enabled="1" ENB="1">
		<Entry ID="0" Format="INI" TypeDetectionMethod="HungarianNotation">$(SkyrimINI)</Entry>
		<Entry ID="1" Format="INI" TypeDetectionMethod="HungarianNotation">$(SkyrimPrefsINI)</Entry>
		<Entry ID="1000" Format="INI" TypeDetectionMethod="HungarianNotation">$(ID)Editor.ini</Entry>
		<Entry ID="1001" Format="INI" TypeDetectionMethod="HungarianNotation">$(ID)EditorPrefs.ini</Entry>
	</GameConfig>

	<PluginManager Enabled="1" InterfaceName="BethesdaGeneric" PluginFileFormat="BethesdaSkyrim">
		<Limit Value="255"/>
		
		<ActiveList>$(CurrentProfileRoot)\PluginsOrder\Plugins.txt</ActiveList>
		<OrderList>$(CurrentProfileRoot)\PluginsOrder\LoadOrder.txt</OrderList>
		
		<ChangeFileModificationDate>0</ChangeFileModificationDate>
		<SortByFileModificationDate>0</SortByFileModificationDate>

		<ActiveListHeader><![CDATA[# Last modified by $(AppName) $(AppVersion) at $(CurrentDateTime).]]></ActiveListHeader>
		<OrderListHeader><![CDATA[# This file is used by $(NameShort) to keep track of your downloaded content.
# Please do not modify this file.
# Last modified by $(AppName) $(AppVersion) at $(CurrentDateTime).]]></OrderListHeader>

		<SortingTools>
			<Entry ID="LOOT" Name="Load Order Optimization Tool (LOOT)">
				<Command><![CDATA[--game=$(ID)]]></Command>
			</Entry>
		</SortingTools>

		<LOOTAPI>
			<Branch>v0.13</Branch>
			<Repository>https://github.com/loot/skyrim.git</Repository>
			<FolderName>Skyrim</FolderName>
			<LocalGamePath>$(CurrentProfileRoot)\PluginsOrder</LocalGamePath>
		</LOOTAPI>

		<StandardContent MainID="Skyrim.esm">
			<Entry ID="Skyrim.esm" Name="$(NameShort)" Logo="Skyrim.png"/>
			<Entry ID="Update.esm" Name="$(NameShort): Update" Logo="Skyrim.png"/>
			<Entry ID="Dawnguard.esm" Name="$(NameShort): Dawnguard" Logo="Dawnguard.png"/>
			<Entry ID="HearthFires.esm" Name="$(NameShort): HearthFires" Logo="HearthFires.png"/>
			<Entry ID="Dragonborn.esm" Name="$(NameShort): Dragonborn" Logo="Dragonborn.png"/>
			<Entry ID="HighResTexturePack01.esp" Name="$(NameShort): High Res Texture Pack" Logo="HighResTexturePack.png"/>
			<Entry ID="HighResTexturePack02.esp" Name="$(NameShort): High Res Texture Pack" Logo="HighResTexturePack.png"/>
			<Entry ID="HighResTexturePack03.esp" Name="$(NameShort): High Res Texture Pack" Logo="HighResTexturePack.png"/>
		</StandardContent>
	</PluginManager>

	<ScreenshotsGallery Enabled="1" RequiresVFS="0">
		<Locations>
			<Entry>$(GameRoot)</Entry>
			<Entry>$(GameRoot)\Screenshots</Entry>
			<Entry>$(WriteTargetRoot)</Entry>
			<Entry>$(WriteTargetRoot)\Screenshots</Entry>
			<Entry>$(VirtualConfigRoot)</Entry>
			<Entry>$(VirtualConfigRoot)\Screenshots</Entry>
		</Locations>
	</ScreenshotsGallery>

	<SaveManager Enabled="1" RequiresVFS="0" SaveFileFormat="BethesdaSkyrim">
		<SavesFolder>$(VirtualConfigRoot)\Saves</SavesFolder>
		<FileFilters>
			<Entry Label="$T(SaveManager.Filter.Saves) (*.ess)">*.ess</Entry>
			<Entry Label="$T(SaveManager.Filter.Backups) (*.bak)">*.bak</Entry>
			<Entry Label="$T(SaveManager.Filter.CoSaves) (*.skse)">*.skse</Entry>
		</FileFilters>

		<PrimaryExtension>ess</PrimaryExtension>
		<SecondaryExtension>skse</SecondaryExtension>
	</SaveManager>
	
	<GameArchives Enabled="1" Method="BethesdaGeneric">
		<ArchivesLocation>$(DataFilesPath)</ArchivesLocation>
		<Filter>
			<Entry Label="BSA">bsa</Entry>
			<Entry Label="BSL">bsl</Entry>
		</Filter>
		
		<ConfigEntry ConfigRoot="$(SkyrimINI)" EditorConfig="$(SkyrimEditorINI)">
			<Section>Archive</Section>
			<ValueName>sResourceArchiveList</ValueName>
		</ConfigEntry>
		<ConfigEntry ConfigRoot="$(SkyrimINI)" EditorConfig="$(SkyrimEditorINI)">
			<Section>Archive</Section>
			<ValueName>sResourceArchiveList2</ValueName>
		</ConfigEntry>
		
		<Invalidation Method="BethesdaGeneric" ConfigRoot="$(SkyrimINI)" EditorConfig="$(SkyrimEditorINI)"></Invalidation>
	</GameArchives>
	
	<WebClient Enabled="1" Type="Steam">
		<SteamID>72850</SteamID>
		<Path>$(DataFilesPath)</Path>
	</WebClient>
</Profile>
