<?xml version="1.0" encoding="utf-8"?>
<Instance ID="Oblivion" SortOrder="12">
	<Name Short="Oblivion">The Elder Scrolls IV: Oblivion</Name>
	
	<Variables>
		<!--Required-->
		<Entry ID="GameRoot" EntryType="Registry" SubType="FolderPath" UseOverride="1">
			<Node>32</Node>
			<Root>HKEY_LOCAL_MACHINE</Root>
			<Path>SOFTWARE\Bethesda Softworks\$(GameID)</Path>
			<ValueName>Installed Path</ValueName>
			<ValueType>REG_SZ</ValueType>
		</Entry>
		<Entry ID="ConfigRootTarget">$SH(SHF_DOCUMENTS)\My Games\$(GameID)</Entry>
		<Entry ID="GameExecutable">$(GameRoot)\Oblivion.exe</Entry>
		<Entry ID="VirtualGameExecutable">$(VirtualGameRoot)\Oblivion.exe</Entry>
		<Entry ID="NexusID">$(GameID)</Entry>

		<!--Names-->
		<Entry ID="EditorName">Construction Set</Entry>
		<Entry ID="LauncherName">$(GameShortName) Launcher</Entry>
		<Entry ID="ScriptExtenderName">$(GameShortName) Script Extender</Entry>
		<Entry ID="ScriptExtenderNameShort">OBSE</Entry>
		
		<!--Misc-->
		<Entry ID="DataFilesPath">$(GameRoot)\Data</Entry>
		<Entry ID="SavesPath">$SH(SHF_DOCUMENTS)\My Games\$(GameID)\Saves</Entry>
		<Entry ID="GameLauncherPath">$(VirtualGameRoot)\$(GameID)Launcher.exe</Entry>
		<Entry ID="GameEditorPath">$(VirtualGameRoot)\TESConstructionSet.exe</Entry>
		<Entry ID="ScriptExtenderPath">$(VirtualGameRoot)\$(ScriptExtenderNameShort)_Loader.exe</Entry>
		<Entry ID="ENBInjectorPath">$(VirtualGameRoot)\ENB_Injector.exe</Entry>
	</Variables>

	<Network>
		<NexusID>Oblivion</NexusID>
		<SteamID>22330</SteamID>
	</Network>

	<LocationsConfig>
	</LocationsConfig>

	<Virtualization>
		<MirroredLocations>
			<Entry>
				<Sources>
					<Entry>$(ConfigRootLocal)</Entry>
					<Entry>$(SavesRootLocal)</Entry>
				</Sources>
				<Target>$(ConfigRootTarget)</Target>
			</Entry>
			<Entry>
				<Sources>
					<Entry>$(ModListRoot)\LocalPlugins</Entry>
				</Sources>
				<Target>$SH(SHF_APPLICATIONDATA_LOCAL)\$(GameID)</Target>
			</Entry>
		</MirroredLocations>
	</Virtualization>
	
	<ProgramConfig>
		<Main>
			<Entry>
				<Name>$(GameShortName)</Name>
				<Icon>$(GameID).exe</Icon>
				<Executable>$(VirtualGameExecutable)</Executable>
				<Arguments></Arguments>
			</Entry>
			<Entry>
				<Name>$(GameShortName) ($(ScriptExtenderNameShort))</Name>
				<Icon>$(ScriptExtenderNameShort)_Loader.exe</Icon>
				<Executable>$(ScriptExtenderPath)</Executable>
				<Arguments></Arguments>
			</Entry>
			<Entry>
				<Name>$(LauncherName)</Name>
				<Icon>$(GameID)Launcher.exe</Icon>
				<Executable>$(GameLauncherPath)</Executable>
				<Arguments></Arguments>
			</Entry>
			<Entry>
				<Name>$(EditorName)</Name>
				<Icon>TESConstructionSet.exe</Icon>
				<Executable>$(GameEditorPath)</Executable>
				<Arguments></Arguments>
			</Entry>
			<Entry>
				<Name>$(EditorName) ($(ScriptExtenderNameShort))</Name>
				<Icon>TESConstructionSet.exe</Icon>
				<Executable>$(GameEditorPath)</Executable>
				<Arguments>-editor</Arguments>
			</Entry>
		</Main>
		<PreMain>
			<Entry>
				<Name>ENB Injector</Name>
				<Icon>ENB_Injector.exe</Icon>
				<Executable>$(ENBInjectorPath)</Executable>
				<Command></Command>
			</Entry>
		</PreMain>
	</ProgramConfig>

	<GameConfig EnableENB="1">
		<Entry ID="0" Format="INI" TypeDetectionMethod="HungarianNotation">$(ConfigRootLocal)\$(GameID).ini</Entry>
		<Entry ID="1000" Format="INI" TypeDetectionMethod="HungarianNotation">$(ConfigRootLocal)\ConstructionSet.ini</Entry>
	</GameConfig>

	<PluginManager InterfaceName="Bethesda" PluginFileFormat="BethesdaOblivion">
		<Limit Value="255"/>

		<ActiveList>$(ModListRoot)\LocalPlugins\Plugins.txt</ActiveList>
		<OrderList>$(ModListRoot)\LocalPlugins\LoadOrder.txt</OrderList>
		
		<ChangeFileModificationDate>1</ChangeFileModificationDate>
		<SortByFileModificationDate>1</SortByFileModificationDate>

		<ActiveListHeader><![CDATA[# Last modified by $(AppName) $(AppVersion) at $(CurrentDateTime).]]></ActiveListHeader>
		<OrderListHeader><![CDATA[# This file is used by $(GameShortName) to keep track of your downloaded content.
# Please do not modify this file.
# Last modified by $(AppName) $(AppVersion) at $(CurrentDateTime).]]></OrderListHeader>

		<SortingTools>
			<Entry ID="LOOT" Name="Load Order Optimization Tool (LOOT)">
				<Command><![CDATA[--game=$(GameID)]]></Command>
			</Entry>
		</SortingTools>

		<LOOTAPI>
			<Branch>v0.13</Branch>
			<Repository>https://github.com/loot/oblivion.git</Repository>
			<FolderName>Oblivion</FolderName>
			<LocalGamePath>$(ModListRoot)\LocalPlugins</LocalGamePath>
		</LOOTAPI>

		<StandardContent MainID="Oblivion.esm">
			<Entry ID="Oblivion.esm" Name="$(GameShortName)" Logo="Oblivion.png"/>
			<Entry ID="OblivionMsg.esp" Name="$(GameShortName)" Logo="Oblivion.png"/>
			<Entry ID="DLCShiveringIsles.esp" Name="$(GameShortName): Shivering Isles" Logo="ShiveringIsles.png"/>
			<Entry ID="Knights.esp" Name="$(GameShortName): Knights of the Nine" Logo="Knights.png"/>
			<Entry ID="DLCSpellTomes.esp" Name="$(GameShortName): Spell Tomes" Logo="Oblivion.png"/>
			<Entry ID="DLCVileLair.esp" Name="$(GameShortName): The Vile Lair" Logo="Oblivion.png"/>
			<Entry ID="DLCMehrunesRazor.esp" Name="$(GameShortName): Mehrunes Razor" Logo="Oblivion.png"/>
			<Entry ID="DLCThievesDen.esp" Name="$(GameShortName): The Thieves Den" Logo="Oblivion.png"/>
			<Entry ID="DLCFrostcrag.esp" Name="$(GameShortName): Wizard's Tower" Logo="Oblivion.png"/>
			<Entry ID="DLCOrrery.esp" Name="$(GameShortName): Orrery" Logo="Oblivion.png"/>
			<Entry ID="DLCHorseArmor.esp" Name="$(GameShortName): Horse Armor" Logo="Oblivion.png"/>
			<Entry ID="DLCFightersStronghold.esp" Name="$(GameShortName): Fighter's Stronghold" Logo="Oblivion.png"/>
		</StandardContent>
	</PluginManager>

	<ScreenshotsGallery>
		<Locations>
			<Entry>$(GameRoot)</Entry>
			<Entry>$(GameRoot)\Screenshots</Entry>
			<Entry>$(OverwritesRoot)</Entry>
			<Entry>$(OverwritesRoot)\Screenshots</Entry>
			<Entry>$(ConfigRootLocal)</Entry>
			<Entry>$(ConfigRootLocal)\Screenshots</Entry>
		</Locations>
	</ScreenshotsGallery>

	<SaveManager SaveFileFormat="BethesdaOblivion">
		<RelativeLocation>Saves</RelativeLocation>
		<FileFilters>
			<Entry Label="$T(SaveManager.Filter.Saves) (*.ess)">*.ess</Entry>
			<Entry Label="$T(SaveManager.Filter.Backups) (*.bak)">*.bak</Entry>
			<Entry Label="$T(SaveManager.Filter.CoSaves) (*.obse)">*.obse</Entry>
		</FileFilters>

		<PrimaryExtension>ess</PrimaryExtension>
		<SecondaryExtension>obse</SecondaryExtension>
	</SaveManager>
</Instance>
