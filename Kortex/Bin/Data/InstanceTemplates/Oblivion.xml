<?xml version="1.0" encoding="utf-8"?>
<Instance GameID="Oblivion" SortOrder="12">
	<Name Short="Oblivion">The Elder Scrolls IV: Oblivion</Name>
	
	<Variables>
		<!--Required-->
		<Entry ID="ActualGameDir" Source="Registry" Type="FSPath" SaveAsOverride="1">
			<Branch>32</Branch>
			<Root>HKEY_LOCAL_MACHINE</Root>
			<Path>SOFTWARE\Bethesda Softworks\Oblivion</Path>
			<Name>Installed Path</Name>
			<Type>REG_SZ</Type>
		</Entry>
		<Entry ID="ActualConfigDir">$SHF(DOCUMENTS)\My Games\Oblivion</Entry>
		<Entry ID="ActualSavesDir">$(ActualConfigDir)\Saves</Entry>
		<Entry ID="ScriptExtenderID">OBSE</Entry>
		<Entry ID="xEditID">tes4</Entry>
	</Variables>
	
	<Network>
		<NetworkManager>
			<NexusID>Oblivion</NexusID>
			<SteamID>22330</SteamID>
		</NetworkManager>
	</Network>

	<Programs>
		<ProgramManager>
			<DefaultPrograms>
				<Entry ShowInMainMenu="1">
					<Name>$(GameShortName)</Name>
					<Executable>Oblivion.exe</Executable>
				</Entry>
				<Entry ShowInMainMenu="1">
					<Name>$(GameShortName) ($(ScriptExtenderID))</Name>
					<Executable>OBSE_Loader.exe</Executable>
				</Entry>
				<Entry>
					<Name>$(GameShortName) Launcher</Name>
					<Executable>Oblivion Launcher.exe</Executable>
				</Entry>
				<Entry>
					<Name>Construction Set</Name>
					<Executable>TESConstructionSet.exe</Executable>
					<Arguments></Arguments>
				</Entry>
				<Entry>
					<Name>ENB Injector</Name>
					<Executable>ENBInjector.exe</Executable>
				</Entry>
			</DefaultPrograms>
		</ProgramManager>
	</Programs>

	<ProgramManager>
		<Programs>
			<Entry>
				<Name>$(GameShortName)</Name>
				<Executable>Oblivion.exe</Executable>
			</Entry>
			<Entry>
				<Name>$(GameShortName) ($(ScriptExtenderID))</Name>
				<Executable>OBSE_Loader.exe</Executable>
			</Entry>
			<Entry>
				<Name>$(GameShortName) Launcher</Name>
				<Executable>Oblivion Launcher.exe</Executable>
			</Entry>
			<Entry>
				<Name>Construction Set</Name>
				<Executable>TESConstructionSet.exe</Executable>
				<Arguments></Arguments>
			</Entry>
			<Entry>
				<Name>ENB Injector</Name>
				<Executable>ENBInjector.exe</Executable>
			</Entry>
		</Programs>
	</ProgramManager>

	<GameConfig EnableENB="1">
		<Entry ID="0" Format="INI" TypeDetectionMethod="HungarianNotation">$(ConfigDir)\Oblivion.ini</Entry>
		<Entry ID="1000" Format="INI" TypeDetectionMethod="HungarianNotation">$(ConfigDir)\ConstructionSet.ini</Entry>
	</GameConfig>

	<GameMods>
		<ModManager>
			<MirroredLocations>
				<Entry>
					<Sources>
						<Entry>$(SavesDir)</Entry>
						<Entry>$(ConfigDir)</Entry>
					</Sources>
					<Target>$(ActualConfigDir)</Target>
				</Entry>
				<Entry>
					<Sources>
						<Entry>$(ProfileDir)\Plugins</Entry>
					</Sources>
					<Target>$SHF(APPLICATIONDATA_LOCAL)\Oblivion</Target>
				</Entry>
			</MirroredLocations>
		</ModManager>
	</GameMods>

	<GameData>
		<PluginManager Implementation="Bethesda" PluginImplementation="BethesdaOblivion">
			<Limit Value="255"/>

			<ActiveList>$(ProfileDir)\Plugins\Plugins.txt</ActiveList>
			<OrderList>$(ProfileDir)\Plugins\LoadOrder.txt</OrderList>

			<ChangeFileModificationDate>1</ChangeFileModificationDate>
			<SortByFileModificationDate>0</SortByFileModificationDate>

			<ActiveListHeader><![CDATA[# Last modified by $(AppName) $(AppVersion) at $(CurrentDateTime).]]></ActiveListHeader>
			<OrderListHeader><![CDATA[# This file is used by $(GameShortName) to keep track of your downloaded content.
# Please do not modify this file.
# Last modified by $(AppName) $(AppVersion) at $(CurrentDateTime).]]></OrderListHeader>

			<SortingTools>
				<Entry ID="LOOT" Name="Load Order Optimization Tool (LOOT)">
					<Command><![CDATA[--game=Oblivion]]></Command>
				</Entry>
			</SortingTools>

			<LOOTAPI>
				<Branch>v0.13</Branch>
				<Repository>https://github.com/loot/oblivion.git</Repository>
				<FolderName>Oblivion</FolderName>
				<LocalGamePath>$(ProfileDir)\Plugins</LocalGamePath>
			</LOOTAPI>

			<StandardContent MainID="Oblivion.esm">
				<Entry ID="Oblivion.esm" Name="$(GameShortName)" Logo="Oblivion.png"/>
				<Entry ID="OblivionMsg.esp" Name="$(GameShortName)" Logo="Oblivion.png"/>
				<Entry ID="DLCShiveringIsles.esp" Name="$(GameShortName): Shivering Isles" Logo="ShiveringIsles.png"/>
				<Entry ID="Knights.esp" Name="$(GameShortName): Knights of the Nine" Logo="Knights.png"/>
				<Entry ID="DLCSpellTomes.esp" Name="$(GameShortName): Spell Tomes" Logo="Oblivion.png"/>
				<Entry ID="DLCVileLair.esp" Name="$(GameShortName): The Vile Lair" Logo="Oblivion.png"/>
				<Entry ID="DLCMehrunesRazor.esp" Name="$(GameShortName): Mehrunes Razor" Logo="Oblivion.png"/>
				<Entry ID="DLCThievesDen.esp" Name="$(GameShortName): The Thieves Den" Logo="Oblivion.png"/>
				<Entry ID="DLCFrostcrag.esp" Name="$(GameShortName): Wizard's Tower" Logo="Oblivion.png"/>
				<Entry ID="DLCOrrery.esp" Name="$(GameShortName): Orrery" Logo="Oblivion.png"/>
				<Entry ID="DLCHorseArmor.esp" Name="$(GameShortName): Horse Armor" Logo="Oblivion.png"/>
				<Entry ID="DLCFightersStronghold.esp" Name="$(GameShortName): Fighter's Stronghold" Logo="Oblivion.png"/>
			</StandardContent>
		</PluginManager>

		<ScreenshotsGallery>
			<Locations>
				<Entry>$(ActualGameDir)</Entry>
				<Entry>$(ActualGameDir)\Screenshots</Entry>
				<Entry>$(ConfigDir)</Entry>
				<Entry>$(ConfigDir)\Screenshots</Entry>
				<Entry>$(OverwritesDir)</Entry>
				<Entry>$(OverwritesDir)\Screenshots</Entry>
			</Locations>
		</ScreenshotsGallery>

		<SaveManager SaveImplementation="BethesdaOblivion">
			<Location>$(SavesDir)\Saves</Location>
			<FileFilters>
				<Entry Label="$T(SaveManager.Filter.Saves) (*.ess)">*.ess</Entry>
				<Entry Label="$T(SaveManager.Filter.Backups) (*.bak)">*.bak</Entry>
				<Entry Label="$T(SaveManager.Filter.CoSaves) (*.obse)">*.obse</Entry>
			</FileFilters>

			<PrimaryExtension>ess</PrimaryExtension>
			<SecondaryExtension>obse</SecondaryExtension>
		</SaveManager>
	</GameData>
</Instance>
